image:
  dist: alpine
  name: alpine/3.8/amd64
  location: images
packages:
  manager: apk
  system:
    - bash
    - gcc
    - g++
    - python3
    - python3-dev
    - git
    - openblas-dev
run:
  - command: apk
    args:
      - add
      - --no-cache
      - --allow-untrusted
      - --repository
      - http://dl-3.alpinelinux.org/alpine/edge/testing
      - hdf5
      - hdf5-dev
    
  - command: python3
    args:
      - -m
      - ensurepip
  
  - command: pip3
    args:
      - --no-cache-dir
      - install
      - --upgrade
      - pip
      - setuptools
  - command: pip3
    args:
      - install
      - https://github.com/better/alpine-tensorflow/releases/download/alpine3.7-tensorflow1.7.0/tensorflow-1.7.0-cp36-cp36m-linux_x86_64.whl
  - command: pip3
    args:
      - install
      - flask
      - flask_cors
  - command: pip3
    args:
      - install
      - --no-cache-dir
      - Cython
  - command: wget
    args:
      - https://github.com/beringresearch/ivis/archive/1.1.3.tar.gz
  - command: tar
    args:
      - xvzf
      - 1.1.3.tar.gz
  - command: pip3
    args:
      - install
      - ivis-1.1.3/
service:
  name: brave-base-python
  version: 1.0